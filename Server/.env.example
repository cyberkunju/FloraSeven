# FloraSeven Server Configuration
# Copy this file to .env and modify as needed

# ======================================================================
# Flask settings
# ======================================================================
DEBUG=False
HOST=0.0.0.0
PORT=5000
MAX_CONTENT_LENGTH=16777216  # 16 MB

# ======================================================================
# Database settings
# ======================================================================
DATABASE_BACKUP_INTERVAL=86400  # 24 hours in seconds
DATABASE_MAX_BACKUPS=7  # Keep 7 days of backups

# ======================================================================
# MQTT settings
# ======================================================================
MQTT_BROKER=localhost
MQTT_PORT=1883
MQTT_KEEPALIVE=60
MQTT_CLIENT_ID=floraseven_server
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_USE_TLS=False
MQTT_RECONNECT_DELAY_MIN=1
MQTT_RECONNECT_DELAY_MAX=60
MQTT_QOS=1

# MQTT topics (use + as wildcard for node IDs)
MQTT_TOPIC_PLANT_DATA=floraSeven/plant/+/data
MQTT_TOPIC_HUB_STATUS=floraSeven/hub/+/status
MQTT_TOPIC_HUB_IMAGE_STATUS=floraSeven/hub/+/cam/image_status
MQTT_TOPIC_COMMAND_PUMP=floraSeven/command/hub/pump
MQTT_TOPIC_COMMAND_CAPTURE_IMAGE=floraSeven/command/hub/captureImage
MQTT_TOPIC_COMMAND_READ_NOW=floraSeven/command/plant/+/readNow
MQTT_TOPIC_SERVER_STATUS=floraSeven/server/status

# ======================================================================
# AI model settings
# ======================================================================
AI_MODEL_ENABLED=True
AI_MODEL_CONFIDENCE_THRESHOLD=0.7

# ======================================================================
# Default thresholds
# ======================================================================
DEFAULT_MOISTURE_MIN=40.0
DEFAULT_MOISTURE_MAX=70.0
DEFAULT_TEMP_SOIL_MIN=18.0
DEFAULT_TEMP_SOIL_MAX=28.0
DEFAULT_LIGHT_LUX_MIN=5000.0
DEFAULT_LIGHT_LUX_MAX=30000.0
DEFAULT_PH_WATER_MIN=6.0
DEFAULT_PH_WATER_MAX=7.5
DEFAULT_UV_AMBIENT_MIN=0.0
DEFAULT_UV_AMBIENT_MAX=2.0
DEFAULT_EC_RAW_MIN=800.0
DEFAULT_EC_RAW_MAX=1500.0

# Default water pump settings
DEFAULT_PUMP_DURATION=3
MAX_PUMP_DURATION=10
MIN_PUMP_INTERVAL=300

# ======================================================================
# Security settings
# ======================================================================
API_USERNAME=admin
API_PASSWORD=floraseven  # Change this to a secure password!
ENABLE_AUTH=True
SECRET_KEY=generate-a-secure-random-key-here  # Use a secure random key in production
SESSION_TIMEOUT=3600  # 1 hour
CORS_ORIGINS=*  # Comma-separated list of allowed origins, or * for all
RATE_LIMIT_ENABLED=True
RATE_LIMIT=100/minute

# ======================================================================
# Connection monitoring settings
# ======================================================================
CONNECTION_CHECK_INTERVAL=60
CONNECTION_NOTIFICATION_COOLDOWN=300
TIMEOUT_WARNING=300
TIMEOUT_ERROR=600
TIMEOUT_CRITICAL=1800

# ======================================================================
# Logging settings
# ======================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_MAX_SIZE=10485760  # 10 MB
LOG_BACKUP_COUNT=5

# ======================================================================
# Email notification settings
# ======================================================================
SMTP_SERVER=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your-email@example.com
SMTP_PASSWORD=your-email-password
ALERT_FROM=floraseven@example.com
ALERT_RECIPIENTS=admin@example.com,user@example.com

# ======================================================================
# mDNS service discovery settings
# ======================================================================
MDNS_ENABLED=True
MDNS_SERVICE_TYPE=_floraseven._tcp.local.
MDNS_SERVICE_NAME=FloraSeven Plant Monitor
MDNS_SERVICE_PORT=5000

# ======================================================================
# Performance settings
# ======================================================================
WORKER_THREADS=4
CACHE_ENABLED=True
CACHE_TIMEOUT=60
